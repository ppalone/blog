---
import { getCollection } from "astro:content";

import Layout from "@layouts/layout.astro";
import BlogList from "@components/astro/blog-list.astro";

const blogs = await getCollection("blogs", ({ data }) => {
  return data.draft === false;
});
---

<Layout title="ppalone/blog" description="👨‍🚀 Pranjal's digital garden 🌱">
  <div class="inner-container">
    <!-- header -->
    <header>
      <p class="my-4">
        Hi I'm Pranjal. I'm a Full stack web developer. I mostly built things
        using JavaScript, NodeJS & Golang. I made this blog to share what I
        learn while building new things.
      </p>
      <p>You can find my socials below:</p>
      <ul>
        <li>
          GitHub: <a class="link" href="https://github.com/ppalone">@ppalone</a>
        </li>
      </ul>
    </header>

    <!-- Blog -->
    <div class="my-4">
      <h3 class="text-4xl font-bold">Blog</h3>

      <!-- recent blogs -->
      <BlogList blogs={blogs} />

      <div class="my-4">
        <a href="/blogs" class="link">View all blogs</a>
      </div>
    </div>
  </div>
</Layout>
